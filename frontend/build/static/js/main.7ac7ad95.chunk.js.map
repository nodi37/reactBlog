{"version":3,"sources":["index/Header.js","index/Post.js","index/LoadMore.js","index/MainElement.js","index/Footer.js","index/PostView.js","index/SearchEngine.js","NotFound.js","index/Main.js","login/Login.js","panel/Aside/Indicator.js","panel/Aside/AsideButton.js","panel/Aside/Logout.js","panel/Aside/Aside.js","panel/PanelContent/Items/AddButton.js","panel/PanelContent/Items/PanelItem/Title.js","panel/PanelContent/Items/PanelItem/CmntContent.js","panel/PanelContent/Items/PanelItem/BtnPanel/AcceptBtn.js","panel/PanelContent/Items/PanelItem/BtnPanel/DeleteBtn.js","panel/PanelContent/Items/PanelItem/BtnPanel/EditBtn.js","panel/PanelContent/Items/PanelItem/BtnPanel/PublishBtn.js","panel/PanelContent/Items/PanelItem/BtnPanel/UnpublishBtn.js","panel/PanelContent/Items/PanelItem/BtnPanel.js","panel/PanelContent/Items/PanelItem/InfoBar.js","panel/PanelContent/Items/PanelItem/DateCt.js","panel/PanelContent/Items/PanelItem.js","panel/PanelContent/Items/LoadMore.js","panel/PanelContent/Posts.js","panel/PanelContent/Editor/ImageInput.js","panel/PanelContent/Editor/Quill.js","panel/PanelContent/Saving.js","panel/PanelContent/Editor/SaveStatus.js","panel/PanelContent/Editor.js","panel/Panel.js","App.js","index.js"],"names":["Header","props","history","useHistory","location","useLocation","sPostsUpd","searchHandler","searchKw","className","href","type","placeholder","value","onBlur","length","goBack","onChange","e","target","pathname","push","fetch","process","method","headers","Accept","body","JSON","stringify","then","res","json","posts","catch","err","console","log","Post","date","Date","toShow","toLocaleString","day","month","year","src","image","alt","to","getFullYear","getMonth","_","kebabCase","title","description","author","LoadMore","onClick","handler","loadable","MainElement","allPosts","updatePosts","currentcount","updateCurrentCount","isLoadable","alreadyloaded","isAlrLoaded","React","useEffect","getPosts","map","index","sDsc","toUpperCase","slice","rDsc","lastIndexOf","content","_id","a","skip","limit","Footer","PostView","useState","setImg","setTitle","setContent","setAuthor","setDate","useProps","status","obj","key","size","hasOwnProperty","parse","SearchEngine","sPosts","NotFound","Main","exact","path","Login","timeout","email","setEmail","password","setPassword","errmsg","setErrMsg","document","cookie","indexOf","name","id","required","clearTimeout","setTimeout","r","data","error","tokenvalues","jwt_decode","token","expires","exp","Indicator","AsideButton","indicator","Logout","Aside","match","useRouteMatch","url","AddButton","Ttile","CmntContent","AcceptBtn","DeleteBtn","parts","split","pop","shift","getCookie","window","confirm","postId","ok","updateMsg","EditBtn","PublishBtn","publish","uPubStatus","UnpublishBtn","BtnPanel","published","InfoBar","msg","DateCt","PanelItem","Title","Posts","refreshPosts","refreshedPosts","filter","item","ImageInput","accept","htmlFor","event","file","files","fileName","resizeFile","setImgName","getImg","Promise","resolve","reject","Compress","imageFileResizer","uri","Quill","modules","toolbar","container","theme","flashAnimation","keyframes","flash","FlashDiv","styled","div","Saving","SaveStatus","Editor","imgName","imgFile","ViewVisible","setView","isSaving","savingStatus","autoSave","turnAutoSave","autoSaveStatus","updateSaveStatus","isSaved","savedStatus","postid","setPostId","setDescription","savedCallback","useRef","saveDraft","alert","posttoload","locationVerify","current","timerid","setInterval","clearInterval","rows","checked","Panel","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7ac7ad95.chunk.js","sourcesContent":["import React from 'react';\nimport {\n    useHistory,\n    useLocation\n} from 'react-router';\nimport './style.css';\n\nfunction Header(props) {\n    const history = useHistory();\n    const location = useLocation();\n    const {\n        sPostsUpd,\n        searchHandler,\n        searchKw\n    } = props;\n\n    function handler(e) {\n        searchHandler(e.target.value);\n        if (location.pathname !== '/search' && searchKw.length>1) {\n            history.push('/search')\n        }\n        if (searchKw.length > 1) {\n            fetch(process.env.REACT_APP_API + 'search', {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    searchKw: searchKw\n                })\n            }).then((res) => {\n                res.json().then((json) => {\n                    sPostsUpd(json.posts)\n                });\n            }).catch((err) => {\n                console.log(err);\n            });\n        } else {\n            sPostsUpd([]);\n        }\n    }\n\n    function blurHandler() {\n        if(searchKw.length<1){\n            history.goBack();\n            searchHandler(\"\");\n            sPostsUpd([]);\n        }\n    }\n\n    return (\n        <header>\n            <div className=\"cpart\">\n                <div className=\"logo\">\n                    <a href=\"/\" className=\"href\">myBlogg</a>\n                </div>\n                <div className=\"searchinput\">\n                    <input type=\"text\" placeholder=\"Search...\" value={props.searchKw} onBlur={blurHandler} onChange={handler}/>\n                </div>\n            </div>\n        </header>\n    )\n\n}\nexport default Header;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nfunction Post(props) {\n\n    const date = new Date(props.date);\n    const toShow = date.toLocaleString('en-GB',{\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric',\n        });\n\n    return (\n        <div className=\"post\"><img src={props.image} alt=\"\"/>\n                <div className=\"postdescription\">\n                    <h5>{toShow}</h5>\n                    <Link to={`/${date.getFullYear()}/${date.getMonth()+1}/${date.toLocaleString('en-GB',{day: '2-digit'})}/${_.kebabCase(props.title)}`}>\n                    <h2>{props.title}</h2>\n                    </Link>\n                    <Link to={`/${date.getFullYear()}/${date.getMonth()+1}/${date.toLocaleString('en-GB',{day: '2-digit'})}/${_.kebabCase(props.title)}`}>\n                    <h5 className=\"tbtm\">{props.description}</h5>\n                    </Link>\n                    <h5>Author: {props.author}</h5>\n                </div>\n        </div>\n    )\n    \n}\n\nexport default Post;","import React from \"react\";\n\nfunction LoadMore(props) {\n    return (\n        <div className=\"loadwrapper\">\n            <div onClick={props.handler} className=\"load\">{props.loadable?\"Load more...\":\"No more posts.\"}</div>\n        </div>\n    )\n}\n\nexport default LoadMore;","import React from \"react\";\nimport Post from './Post';\nimport LoadMore from './LoadMore';\n\nfunction MainElement(props) {\n    const {\n        allPosts,\n        updatePosts,\n        currentcount,\n        updateCurrentCount,\n        loadable,\n        isLoadable,\n        alreadyloaded,\n        isAlrLoaded\n    } = props;\n\n    React.useEffect(() => {\n        if (!alreadyloaded) {\n            getPosts();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    React.useEffect(() => {\n        updateCurrentCount(allPosts.length)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [allPosts]);\n\n    return (\n        <main className=\"indexmain\">\n            <div className=\"elements\">\n            {allPosts.map((value, index)=>{\n                const dsc = value.description[0].toUpperCase() + value.description.slice(1);\n                const sDsc = dsc.slice(0,400);\n                const rDsc = sDsc.slice(0, sDsc.lastIndexOf(\" \")) + \"...\";\n                return <Post key={value._id}  image={value.image} title={value.title} description={rDsc} content={value.content} date={value.date} author={value.author}/>\n            })}\n            </div>\n                <LoadMore handler={getPosts} loadable={loadable}/>\n        </main>\n        )\n\n    async function getPosts() {\n        if (loadable) {\n            const skip = currentcount;\n            const limit = currentcount + 5;\n            fetch(process.env.REACT_APP_API + 'allposts', {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    skip: skip,\n                    limit: limit\n                })\n            }).then((res) => {\n                res.json().then((json) => {\n                    updatePosts([...allPosts, ...json.posts]);\n                    isAlrLoaded(true)\n                    if (json.length > limit) {\n                        isLoadable(true)\n                    } else {\n                        isLoadable(false)\n                    }\n                });\n            }).catch((err) => {\n                console.log(err);\n            });\n        }\n    }\n}\n\nexport default MainElement;","import React from \"react\"\n\nfunction Footer() {\n    return (\n    <footer>\n        <h2>This is my React.js blog!</h2>\n        <h2>Norbert@2021</h2>\n    </footer>\n    )\n}\nexport default Footer;","import React from \"react\";\nimport parse from \"html-react-parser\";\nimport {\n    useLocation,\n    useHistory\n} from \"react-router-dom\";\n\n\nfunction PostView(props) {\n    const history = useHistory();\n    const location = useLocation().pathname.slice(1);\n    const [image, setImg] = React.useState(\"\");\n    const [title, setTitle] = React.useState(\"\");\n    const [content, setContent] = React.useState(\"\");\n    const [author, setAuthor] = React.useState(\"\");\n    const [date, setDate] = React.useState(\"\")\n\n    React.useEffect(() => {\n        if (props.useProps) {\n            setImg(props.image);\n            setTitle(props.title);\n            setContent(props.content);\n        } else {\n            fetch(process.env.REACT_APP_API + location, {\n                method: 'GET',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            }).then((res) => {\n                if(res.status===200){\n                    res.json().then((json) => {\n                    if(size(json)===9){\n                        setImg(json.image);\n                        setTitle(json.title);\n                        setContent(json.content);\n                        setAuthor(json.author);\n                        const date = new Date(json.date);\n                        const toShow = date.toLocaleString('en-GB',{\n                            day: 'numeric',\n                            month: 'long',\n                            year: 'numeric',\n                        });\n                        setDate(toShow);\n                    } else {\n                        history.push('/404');\n                    }\n                })\n                } else {\n                    history.push('/404');\n                }\n            }).catch((err) => {\n                console.log(err)\n            })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    function size(obj) {\n        var size = 0,\n          key;\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) size++;\n        }\n        return size;\n    };\n\n    return (\n        <div className=\"postcontent\">\n            <p onClick={history.goBack} className=\"closebtn\">x</p>\n            <img src={image} alt=\"\" className=\"mainimg\"/>\n            <h1 className=\"posttitle\">{title}</h1>\n            {props.useProps?\"\":<><h5 className=\"dabar\">Author: {author} | {date}</h5></>}\n            {parse(content)}\n            {props.useProps?\"\":<><h5 onClick={history.goBack} className=\"backbtn\">Go back</h5></>}\n        </div>\n    )\n\n}\n\n//ADD BACK BUTTON :)\n\nexport default PostView;","import React from \"react\";\nimport {\n    useHistory, Link\n} from \"react-router-dom\";\nimport _ from \"lodash\"\n\n\nfunction SearchEngine(props) {\n    const { sPosts, searchHandler, sPostsUpd} = props;\n    const history = useHistory();\n\n    return (\n        <div className=\"postcontent\">\n            <p onClick={()=>{history.goBack();searchHandler(\"\");sPostsUpd([]);}} className=\"closebtn\">x</p>\n                    {sPosts.map((value, index)=>{\n                    const date = new Date(value.date);\n                    const toShow = date.toLocaleString('en-GB',{\n                        day: 'numeric',\n                        month: 'long',\n                        year: 'numeric',\n                    });\n                    return (   \n                        <div key={value._id} className=\"searchpd postdescription\">\n                            <Link to={`/${date.getFullYear()}/${date.getMonth()+1}/${date.toLocaleString('en-GB',{day: '2-digit'})}/${_.kebabCase(value.title)}`}>\n                            <h2>{value.title}</h2>\n                            </Link>\n                            <h5>{toShow}</h5>\n                            <Link to={`/${date.getFullYear()}/${date.getMonth()+1}/${date.toLocaleString('en-GB',{day: '2-digit'})}/${_.kebabCase(value.title)}`}>\n                            <h5 className=\"tbtm\">{value.description}</h5>\n                            </Link>\n                            <h5>Author: {value.author}</h5>\n                        </div>\n                    )})}\n        </div>\n    )\n}\n\nexport default SearchEngine;","import React from \"react\";\n\nfunction NotFound(){\n    return (\n        <main className=\"notfoundmain\">\n        <div className=\"elements notfound\">\n        <h1>404 - Not Found</h1>\n        </div>\n        </main>\n    )\n}\n\nexport default NotFound;","import React from 'react';\nimport {\n  Route,\n  Switch\n} from 'react-router';\nimport './style.css';\nimport Header from './Header';\nimport MainElement from './MainElement';\nimport Footer from './Footer'\nimport PostView from './PostView';\nimport SearchEngine from './SearchEngine';\nimport NotFound from '../NotFound';\n\nfunction Main() {\n  const [allPosts, updatePosts] = React.useState([]);\n  const [currentcount, updateCurrentCount] = React.useState(0);\n  const [loadable, isLoadable] = React.useState(true);\n  const [alreadyloaded, isAlrLoaded] = React.useState(false);\n  const [searchKw, searchHandler] = React.useState(\"\");\n  const [sPosts, sPostsUpd] = React.useState([]);\n\n  return (\n    <div>\n    <Header sPostsUpd={sPostsUpd} searchHandler={searchHandler} searchKw={searchKw} />\n    <Switch>\n    <Route exact path=\"/\">\n      <MainElement allPosts={allPosts} updatePosts={updatePosts} currentcount={currentcount} updateCurrentCount={updateCurrentCount} loadable={loadable} isLoadable={isLoadable} alreadyloaded={alreadyloaded} isAlrLoaded={isAlrLoaded}/>\n    </Route>\n    <Route path=\"/search/\">\n      <SearchEngine sPosts={sPosts} searchHandler={searchHandler} sPostsUpd={sPostsUpd}/>\n    </Route>\n    <Route exact path=\"/404\">\n            <NotFound />\n    </Route>\n    <Route path=\"*\">\n      <PostView useProps={false}/>\n    </Route>\n    </Switch>\n    <Footer />\n    </div>\n  );\n\n}\n\nexport default Main;","import React from \"react\";\nimport './login.css';\nimport { useHistory } from \"react-router-dom\";\nimport jwt_decode from 'jwt-decode';\n \nfunction Login() {\n    const history = useHistory();\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    const [errmsg, setErrMsg] = React.useState();\n    const value = `; ${document.cookie}`;\n    var timeout;\n    \n    if (value.indexOf(\"Token\")!==-1){history.push('/panel/posts')} \n\n    function loginHandler() {\n        clearTimeout(timeout);\n        setErrMsg(\"\");\n        if (email.length < 1 || password.length < 1) {\n            setErrMsg(\"Complete email and password!\");\n            timeout = setTimeout(() => {\n                setErrMsg(\"\");\n            }, 3000);\n        } else {\n            fetch(process.env.REACT_APP_API + 'login', {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    email: email,\n                    password: password\n                })\n            }).then(r => r.json().then(data => {\n                if (r.status === 401) {\n                    setErrMsg(data.error);\n                    timeout = setTimeout(() => {\n                        setErrMsg(\"\");\n                    }, 3000);\n                } else if(r.status===200) {\n                    const tokenvalues = jwt_decode(data.token);\n                    const expires = new Date(tokenvalues.exp*1000)\n                    document.cookie = `Token=${data.token}; Expires=${expires}; path=/;`;\n                    history.push('/panel/posts');\n                } else {\n                    setErrMsg(\"Server error! Check console!\");\n                    console.log(data);\n                }\n            })).catch((err) => {\n                console.log(err);\n            });\n        }\n    }\n\n    return (\n        <main className=\"loginmain\">\n        <div className=\"loginbox\">\n            <h1>myBlogg login!</h1>\n            <form method=\"post\">\n                <input type=\"email\" name=\"email\" id=\"email\" placeholder=\"User\" value={email} onChange={(e)=>{setEmail(e.target.value)}} required/>\n                <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"Password\" value={password} onChange={(e)=>{setPassword(e.target.value)}} required/>\n                <p>{errmsg}</p>\n                <button onClick={loginHandler} type=\"button\">Login</button>\n            </form>\n        </div>\n     </main>\n    )\n\n}\n\nexport default Login;","import React from \"react\";\n\nfunction Indicator() {\n    return (\n        <div className=\"indicator\">1</div>\n    )\n}\n\nexport default Indicator;","import React from \"react\";\nimport Indicator from \"./Indicator\";\n\nfunction AsideButton(props) {\n    return (\n        <button className=\"btnnew\">{props.name}\n            {props.indicator?<Indicator />:\"\"}\n        </button>\n    )\n}\n\nexport default AsideButton;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Logout(){\n    const history = useHistory();\n    function handler(){\n        history.push('/');\n        const expires = new Date();\n        document.cookie = `Token=null; Expires=${expires}; path=/;`;\n    }\n\n    return (<button onClick={handler} className=\"logout\">Logout</button>)\n}\n\nexport default Logout;","import React from \"react\";\nimport AsideButton from \"./AsideButton\";\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport Logout from \"./Logout\";\n\nfunction Aside() {\n    const match = useRouteMatch();\n    return (\n        <aside>\n        <h1>Admin Tools</h1>\n\n        <Link to={`${match.url}/posts`}>\n            <AsideButton name=\"Posts\" indicator={false}/>\n        </Link>\n        <Logout />\n        </aside>\n    )\n//         <Link to={`${match.url}/settings`}>\n//              <AsideButton name=\"Settings\" indicator={false}/>\n//         </Link>\n//         <Link to={`${match.url}/new`}>\n//             <AsideButton name=\"New\" indicator={true}/>\n//         </Link> \n}\n\nexport default Aside;","import React from \"react\";\n\nfunction AddButton() {\n    return (\n        <div className=\"addbtn\">Add new post</div>\n    )\n}\n\nexport default AddButton;","import React from \"react\";\n\nfunction Ttile(props) {\n    return (\n        <h1>{props.title}</h1>\n    )\n}\n\nexport default Ttile;","import React from \"react\";\n\nfunction CmntContent() {\n    return (\n        <h3>Content Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin suscipit mattis ullamcorper. Sed\n            suscipit efficitur risus, et ornare lacus ultricies eu. Nam eleifend justo eu sagittis luctus. Vivamus\n            eleifend hendrerit dapibus. Integer at molestie lacus. </h3>\n    )\n}\n\nexport default CmntContent;","import React from \"react\";\n\nfunction AcceptBtn() {\n    return (\n        <button className=\"abtn\">Accept</button>\n    )\n}\n\nexport default AcceptBtn;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\"; \n\nfunction DeleteBtn(props) {\n    const history = useHistory();\n    const token = getCookie(\"Token\");\n\n    return (\n        <button onClick={handler} className=\"dbtn\">Delete</button>\n    )\n\n    function handler() {\n        if (window.confirm(\"Are You sure? Your changes will not be save.\")) {\n            fetch(process.env.REACT_APP_API + props.postId, {\n                method: 'DELETE',                      \n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Token': token\n                }\n            }).then((res) => {\n                if (res.ok) {\n                    props.getPosts(props.postId)\n                } else {\n                    props.updateMsg(\"Error\")\n                }\n            }).catch((err) => {\n                console.log(err);\n                props.updateMsg(\"Error, check console.\")\n            });\n        }\n    }\n    \n    function getCookie(name) {\n        const value = `; ${document.cookie}`;\n        if (value.indexOf(\"Token\")===-1){\n            history.push('/login');\n        } else {\n            const parts = value.split(`; ${name}=`);\n            if (parts.length === 2) return parts.pop().split(';').shift();\n        }\n    }\n}\n\nexport default DeleteBtn;","import React from \"react\";\n\nfunction EditBtn() {\n    return (\n        <button className=\"ebtn\">Edit</button>\n    )\n}\n\nexport default EditBtn;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\"; \n\nfunction PublishBtn(props) {\n    const history = useHistory();\n    const token = getCookie('Token');\n    function getCookie(name) {\n        const value = `; ${document.cookie}`;\n        if (value.indexOf(\"Token\")===-1){\n            history.push('/login');\n        } else {\n            const parts = value.split(`; ${name}=`);\n            if (parts.length === 2) return parts.pop().split(';').shift();\n        }\n    }\n    \n    return (\n        <button onClick={handler} className=\"pbtn\">Publish</button>\n    )\n\n    function handler(){\n        fetch(process.env.REACT_APP_API+props.postId, {\n            method: 'PATCH',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Token': token\n            },\n            body: JSON.stringify({\n                publish: true\n            })\n        }).then((res) => {\n            if (res.ok) {\n                props.uPubStatus(true);\n            } else {props.updateMsg(\"Error\")}\n        }).catch((err) => {\n            console.log(err);\n            props.updateMsg(\"Error, check console.\")\n        });\n    }\n}\n\nexport default PublishBtn;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\"; \n\nfunction UnpublishBtn(props) {\n    const history = useHistory();\n    const token = getCookie('Token');\n    \n    function getCookie(name) {\n        const value = `; ${document.cookie}`;\n        if (value.indexOf(\"Token\")===-1){\n            history.push('/login');\n        } else {\n            const parts = value.split(`; ${name}=`);\n            if (parts.length === 2) return parts.pop().split(';').shift();\n        }\n    }\n\n    return (\n        <button onClick={handler} className=\"upbtn\">Unpub</button>\n    )\n\n    function handler(){\n        fetch(process.env.REACT_APP_API+props.postId, {\n            method: 'PATCH',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Token': token\n            },\n            body: JSON.stringify({\n                publish: false\n            })\n        }).then((res) => {\n            if (res.ok) {\n                props.uPubStatus(false);\n            } else {props.updateMsg(\"Error\")}\n        }).catch((err) => {\n            console.log(err);\n            props.updateMsg(\"Error, check console.\")\n        });\n    }\n}\n\nexport default UnpublishBtn;","import React from \"react\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\nimport AcceptBtn from \"./BtnPanel/AcceptBtn\";\nimport DeleteBtn from \"./BtnPanel/DeleteBtn\";\nimport EditBtn from \"./BtnPanel/EditBtn\";\nimport PublishBtn from \"./BtnPanel/PublishBtn\";\nimport UnpublishBtn from \"./BtnPanel/UnpublishBtn\";\n\n//PUBLISHED = TRUE THEN  \nfunction BtnPanel(props) {\n    const match = useRouteMatch();\n\n    if(props.type===\"post\"){\n        return (\n            <div className=\"buttons\">\n                {props.published?<UnpublishBtn uPubStatus={props.uPubStatus} postId={props.postId} updateMsg={props.updateMsg}/>:<PublishBtn uPubStatus={props.uPubStatus} postId={props.postId} updateMsg={props.updateMsg}/>}\n                <Link to={`${match.url}/edit/${props.postId}`}>\n                <EditBtn />\n                </Link>\n                <DeleteBtn getPosts={props.getPosts} postId={props.postId}/>\n            </div>\n        )\n    } else {\n    return (\n        <div className=\"buttons\">\n            <AcceptBtn />\n            <EditBtn />\n            <DeleteBtn />\n        </div>\n    )}\n}\n\n//<PublishBtn />\n//<UnpublishBtn />\n\nexport default BtnPanel;","import React from \"react\";\n\nfunction InfoBar(props) {\n    return (\n        <div className=\"info\">{props.msg}</div>\n    )\n}\n\nexport default InfoBar;","import React from \"react\";\n\nfunction DateCt() {\n    return (\n        <p>Date</p>\n    )\n}\n\nexport default DateCt;","import React from \"react\";\nimport Title from \"./PanelItem/Title\";\nimport CmntContent from \"./PanelItem/CmntContent\";\nimport BtnPanel from \"./PanelItem/BtnPanel\";\nimport InfoBar from \"./PanelItem/InfoBar\";\n//import ShowCmntsBtn from \"./PanelItem/ShowCmntsBtn\";\nimport DateCt from \"./PanelItem/DateCt\";\n\n\nfunction PanelItem(props) {\n    const [msg, updateMsg] = React.useState(\"\");\n    const [published, uPubStatus] = React.useState(props.published)\n    return (\n        <div className=\"item\">\n            <Title title={props.title}/>\n            {props.type===\"comment\"?<CmntContent />:\"\"}\n            {props.type===\"comment\"?<DateCt />:\"\"}\n            <InfoBar msg={msg} />\n            <BtnPanel type={props.type} published={published} uPubStatus={uPubStatus} getPosts={props.getPosts} postId={props.postId} updateMsg={updateMsg}/>\n        </div>\n    )\n}\n//<ShowCmntsBtn />\n\nexport default PanelItem;","import React from \"react\";\n\nfunction LoadMore(props) {\n    return (\n        <div onClick={props.handler} className=\"loadmore\"><p>{props.loadable?\"Load more results\":\"Nothing more to load\"}</p></div>\n    )\n}\n\nexport default LoadMore;","import React from \"react\";\nimport AddButton from \"./Items/AddButton\";\nimport PanelItem from \"./Items/PanelItem\";\nimport LoadMore from \"./Items/LoadMore\";\nimport {\n    Link,\n    useRouteMatch,\n    useHistory\n} from \"react-router-dom\";\n\nfunction Posts() {\n    const match = useRouteMatch();\n    const history = useHistory();\n    const [allPosts, updatePosts] = React.useState([]);\n    const [currentcount, updateCurrentCount] = React.useState(0);\n    const [loadable, isLoadable] = React.useState(true);\n    const token = getToken();\n\n    React.useEffect(() => {\n        const value = `; ${document.cookie}`;\n        if (value.indexOf(\"Token\") === -1) {\n            history.push('/login');\n        } else {\n                getPosts(0, 5);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    React.useEffect(() => {\n        updateCurrentCount(allPosts.length)\n    }, [allPosts]);\n\n    return (\n        <main className=\"panelmain\">\n            <Link to={`${match.url}/add`}>\n                <AddButton />\n            </Link>\n            {allPosts.map((value, index)=>{\n                    return <PanelItem type=\"post\" key={value._id} postId={value._id} title={value.title} published={value.published} getPosts={refreshPosts}/>;\n                })}\n            <LoadMore loadable={loadable} handler={getPosts}/>\n        </main>\n    )\n\n    async function getPosts() {\n        if (loadable) {\n            const skip = currentcount;\n            const limit = currentcount + 5;\n            fetch(process.env.REACT_APP_API + 'posts', {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Token': token\n                },\n                body: JSON.stringify({\n                    skip: skip,\n                    limit: limit\n                })\n            }).then((res) => {\n                res.json().then((json) => {\n                    updatePosts([...allPosts, ...json.posts])\n                    if (json.length > limit) {\n                        isLoadable(true)\n                    } else {\n                        isLoadable(false)\n                    }\n                });\n            }).catch((err) => {\n                console.log(err);\n            });\n        }\n    }\n\n    function refreshPosts(id) {\n        function filter(item) {\n            return item._id !== id;\n        }\n        var refreshedPosts = allPosts.filter(filter);\n        updatePosts(refreshedPosts);\n    }\n\n    function getToken(){\n        const value = `; ${document.cookie}`;\n        const parts = value.split(`; Token=`);\n        return parts.pop().split(';').shift();\n    }\n}\n\nexport default Posts;","import React from \"react\";\nimport Compress from \"react-image-file-resizer\";\n\nfunction ImageInput(props) {\n    //var isResolved=1;\n    return (\n        <div className=\"image-input\">\n            <input type=\"file\" name=\"image\" id=\"image\" accept=\"image/*\" onChange={onChange}/>\n            <label htmlFor=\"image\">Select image</label>\n        </div>\n\n    )\n\n    async function onChange(event) {\n        const file = event.target.files[0];\n        const fileName = event.target.files[0].name;\n        const image = await resizeFile(file);\n        props.setImgName(fileName);\n        props.getImg(image)\n    };  \n    \n    async function resizeFile(file) {\n        return new Promise((resolve, reject) => {\n            try {\n                Compress.imageFileResizer(\n                file,\n                1920 ,\n                1080,\n                \"JPEG\",\n                100,\n                0,\n                (uri) => {\n                    resolve(uri);\n                },\n                \"base64\");\n            } catch(error) {\n                reject(error);\n                props.setImgName(\"Image file compression error\");\n                //isResolved = 0;\n            }\n        })\n    }\n}\n\nexport default ImageInput;","import React from \"react\";\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nfunction Quill(props) {\n    const modules = {\n        toolbar: {\n            container: [\n                [{ 'size': ['small', false,] }], \n                [{ 'header': 1 }, { 'header': 2 }],\n                ['bold', 'italic', 'underline', 'strike'],\n                ['blockquote', 'code-block', 'link','image'],\n                [{ 'script': 'sub'}, { 'script': 'super' }],\n                [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                [{ 'indent': '-1'}, { 'indent': '+1' }]\n            ],\n            // handlers: {\n            //     'image': imageHandler\n            // }\n        }\n    }\n\n    // function imageHandler() {\n    //     let fileInput = this.container.querySelector('input.ql-image[type=file]');\n    //     if (fileInput == null) {\n    //       fileInput = document.createElement('input');\n    //       fileInput.setAttribute('type', 'file');\n    //       fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n    //       fileInput.classList.add('ql-image');}\n    //     }\n\n//RESZTA KODU DO PRZEMYŚLENIA\n    //       fileInput.addEventListener('change', () => {\n    //         if (fileInput.files != null && fileInput.files[0] != null) {\n    //           let reader = new FileReader();\n    //           reader.onload = (e) => {\n    //             let range = this.quill.getSelection(true);\n    //             this.quill.updateContents(new Delta()\n    //               .retain(range.index)\n    //               .delete(range.length)\n    //               .insert({ image: e.target.result })\n    //             , Emitter.sources.USER);\n    //             fileInput.value = \"\";\n    //           }\n    //           reader.readAsDataURL(fileInput.files[0]);\n    //         }\n    //       });\n    //       this.container.appendChild(fileInput);\n    //     }\n    //     fileInput.click();\n\n    return (\n        <ReactQuill modules={modules} theme=\"snow\" value={props.content} onChange={props.setContent}/>\n    );\n}\n\nexport default Quill;","import React from \"react\";\nimport { flash } from \"react-animations\";\nimport styled, { keyframes } from 'styled-components';\n\nconst flashAnimation = keyframes`${flash}`;\nconst FlashDiv = styled.div`animation: 3s ${flashAnimation} infinite`;\n\nfunction Saving() {\n    return (\n       <FlashDiv className=\"savingelement\"><h1>SAVING!</h1></FlashDiv>\n    )\n}\n\nexport default Saving;","import React from \"react\";\n\nfunction SaveStatus(props){\n    return(\n        <p>{props.status}</p>\n    )\n}\n\nexport default SaveStatus;","import React, {\n    useRef,\n    useState\n} from \"react\";\nimport {\n    useLocation\n} from \"react-router\";\nimport ImageInput from \"./Editor/ImageInput\";\nimport PostView from \"../../index/PostView\";\nimport Quill from \"./Editor/Quill\";\nimport {\n    useHistory\n} from \"react-router-dom\";\nimport Saving from \"./Saving\";\nimport SaveStatus from \"./Editor/SaveStatus\";\n\nfunction Editor() {\n    const [imgName, setImgName] = useState(\"\");\n    const [imgFile, getImg] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n    const [ViewVisible, setView] = useState(0);\n    const [content, setContent] = useState(\"\");\n    const [isSaving, savingStatus] = useState(false);\n    const [autoSave, turnAutoSave] = useState(false);\n    const [autoSaveStatus, updateSaveStatus] = useState(\"\");\n    const [isSaved, savedStatus] = useState(false);\n    const [postid, setPostId] = useState(\"\");\n    const [description, setDescription] = useState(\"This is Read More text under post title.\");\n    const history = useHistory();\n    const location = useLocation();\n    const savedCallback = useRef();\n    const token = getToken();\n    \n\n    //setInterval triggers tick function which contains refer to current version of callback func which is changed everytime when anything is updated.\n    React.useEffect(() => {\n        const value = `; ${document.cookie}`;\n        const parts = value.split(`; Token=`);\n        if (value.indexOf(\"Token\") === -1) {\n            history.push('/login');\n        } else {\n            if (parts.length === 2) {\n                if (!(location.pathname.indexOf(\"/edit/\") === -1)) {\n                    const posttoload = location.pathname.slice(location.pathname.indexOf(\"/edit/\") + 6, location.pathname.indexOf(\"/edit/\") + 30)\n                    const locationVerify = location.pathname.slice(location.pathname.indexOf(\"/edit/\") + 6);\n                    if (posttoload.length < 24 || locationVerify.length>24) {\n                        history.push('/panel/404');\n                    } else {\n                        fetch(process.env.REACT_APP_API + posttoload, {\n                            method: 'GET',\n                            headers: {\n                                Accept: 'application/json',\n                                'Content-Type': 'application/json',\n                                'Token': token\n                            }\n                        }).then((res) => {\n                            res.json().then((json) => {\n                                if(json!==null){\n                                setPostId(json._id);\n                                setContent(json.content);\n                                setTitle(json.title);\n                                getImg(json.image);\n                                setDescription(json.description);\n                                savedStatus(true);\n                            } else {\n                                history.push('/panel/404');\n                            }\n                            });\n                        }).catch((err) => {\n                            console.log(err);\n                        })\n                    }\n                }\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    React.useEffect(() => {\n        savedCallback.current = saveDraft;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [saveDraft])\n\n\n    React.useEffect(() => {\n        var timerid;\n        if (autoSave) {\n            function tick() {\n                savedCallback.current();\n            }\n            timerid = setInterval(tick, 20000);\n        }\n        return () => {\n            clearInterval(timerid);\n        };\n    }, [autoSave]);\n\n    function Cancel() {\n        if (window.confirm(\"Are You sure? Unsaved changes will be lost.\")) {\n            history.push(\"/panel/posts\");\n        }\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    function saveDraft() {\n        autoSave ? updateSaveStatus(\"...\") : savingStatus(true);\n        if (!isSaved && (title.length > 1)) {\n            fetch(process.env.REACT_APP_API, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Token': token\n                },\n                body: JSON.stringify({\n                    image: imgFile,\n                    title: title,\n                    content: content,\n                    description: description\n                })\n            }).then((res) => {\n                res.json().then((json) => {\n                    setPostId(json.id);\n                    savedStatus(true);\n                    if (autoSave) {\n                        updateSaveStatus(\"OK\");\n                        setTimeout(() => {\n                            updateSaveStatus(\"\");\n                        }, 5000);\n                    }\n                });\n                savingStatus(false);\n            }).catch((err) => {\n                console.log(err);\n                updateSaveStatus(\"Error\");\n            });\n        } else if (isSaved) {\n            (title.length < 1) ? setTitle(\"Add title\"): setTitle(title);\n            fetch(process.env.REACT_APP_API + postid, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Token': token\n                },\n                body: JSON.stringify({\n                    image: imgFile,\n                    title: (title.length < 1) ? \"Add title\" : title,\n                    content: content,\n                    description: description\n                })\n            }).then((res) => {\n                res.json().then((json) => {\n                    setPostId(json.id);\n                    if (autoSave) {\n                        updateSaveStatus(\"OK\");\n                        setTimeout(() => {\n                            updateSaveStatus(\"\");\n                        }, 5000);\n                    }\n                });\n                savingStatus(false);\n            }).catch((err) => {\n                console.log(err);\n                updateSaveStatus(\"ErroR\");\n            });\n        } else {\n            savingStatus(false);\n            alert(\"Draft needs to have title to be saved.\");\n        }\n    }    \n\n    function changeAutosave() {\n        if (autoSave) {\n            turnAutoSave(false);\n        } else {\n            turnAutoSave(true);\n        }\n    }\n\n    function getToken(){\n        const value = `; ${document.cookie}`;\n        const parts = value.split(`; Token=`);\n        return parts.pop().split(';').shift();\n    }\n\n    return (\n        <main className=\"panelmain\">\n        {isSaving?<Saving />:<><h1 className=\"title\">Title:{title}</h1>\n        <input type=\"text\" name=\"title\" id=\"title\" placeholder=\"\" value={title} onChange={(e)=>{setTitle(e.target.value)}}/>\n        <h2 className=\"image\">Image: {imgName}</h2>\n        <ImageInput postid=\"dontknowyet\" setImgName={setImgName} getImg={getImg}/>\n        <div className=\"qeditor\">\n        <Quill setContent={setContent}  content={content}/>\n        </div>\n        <h2 className=\"image\">Post description:</h2>\n        <textarea rows=\"6\" className=\"pDesc\" onChange={(e)=>{setDescription(e.target.value)}} value={description}></textarea>\n        <div className=\"buttons editorbuttons\">\n        <button className=\"sbtn\" onClick={saveDraft}>Save</button>\n            <input type=\"checkbox\" name=\"autosave\" id=\"asave\" checked={autoSave} onChange={changeAutosave}/>\n            <p>Autosave</p><SaveStatus status={autoSaveStatus}/>\n            <button className=\"pbtn\" onClick={()=>{setView(ViewVisible?0:1)}}>Post review</button>\n            <button className=\"cbtn\" onClick={Cancel}>Cancel</button>\n        </div>\n        {ViewVisible?<PostView useProps={true} title={title} image={imgFile} content={content}/>:\"\"}</>}\n        </main>\n    )\n}\n\nexport default Editor;","import React from \"react\";\nimport Aside from './Aside/Aside';\n//import PanelContent from \"./PanelContent/PanelContent\";\nimport Posts from \"./PanelContent/Posts\";\nimport Editor from \"./PanelContent/Editor\";\nimport {\n    Switch,\n    useRouteMatch,\n    Route,\n    useHistory\n} from \"react-router\";\n\n\nimport './panel.css';\nimport NotFound from \"../NotFound\";\n\nfunction Panel() {\n    const history = useHistory();\n    const match = useRouteMatch();\n\n    React.useEffect(() => {\n        const value = `; ${document.cookie}`;\n        if (value.indexOf(\"Token\") === -1) {\n            history.push('/login');\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <div className=\"mainwrapper\">\n            <Aside />\n            <Switch>\n                <Route exact path={match.url + \"/posts/add\"}>\n                    <Editor />\n                </Route>\n                <Route path={match.url + \"/posts/edit\"}>\n                    <Editor />\n                </Route>\n                <Route exact path={match.url + \"/posts\"}>\n                    <Posts />\n                </Route>\n                <Route path={match.url + \"/*\"}>\n                    <NotFound />\n                </Route>\n            </Switch>\n        </div>\n    )\n}\n\nexport default Panel;","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport Main from './index/Main';\nimport Login from './login/Login';\nimport Panel from './panel/Panel';\n\nfunction App() {\n  return (\n    <div>\n    <Router>\n      <Switch>\n          <Route exact path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/panel\">\n           <Panel />\n          </Route>\n          <Route path=\"/\">\n            <Main />\n          </Route>\n      </Switch>\n    </Router>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}